CREATE TABLE Paciente (
    ID_Paciente INTEGER PRIMARY KEY,
    Nome VARCHAR(100),
    CPF VARCHAR(11),
    Endereco VARCHAR(255),
    Plano_Saude VARCHAR(100),
    fk_Consulta_ID_Consulta INTEGER,
    fk_Pagamento_Cliente_ID_Pagamento INTEGER,
    FOREIGN KEY (fk_Consulta_ID_Consulta) REFERENCES Consulta(ID_Consulta),
    FOREIGN KEY (fk_Pagamento_Cliente_ID_Pagamento) REFERENCES Pagamento_Cliente(ID_Pagamento)
);

CREATE TABLE Medico (
    ID_Medico INTEGER PRIMARY KEY,
    CRM VARCHAR(20),
    Nome VARCHAR(100),
    Especialidade VARCHAR(100),
    fk_Consulta_ID_Consulta INTEGER,
    FOREIGN KEY (fk_Consulta_ID_Consulta) REFERENCES Consulta(ID_Consulta)
);

CREATE TABLE Consulta (
    ID_Consulta INTEGER PRIMARY KEY,
    Tipo_Consulta INTEGER,
    Data_Hora DATETIME,
    Status_Consulta VARCHAR(50),
    fk_Financeiro_clinica_Pagamentos DECIMAL(10,2)
);

CREATE TABLE Sala (
    ID_Sala INTEGER PRIMARY KEY,
    Status_Sala VARCHAR(50),
    Numero_Sala INTEGER,
    Bloco VARCHAR(10),
    fk_Consulta_ID_Consulta INTEGER,
    FOREIGN KEY (fk_Consulta_ID_Consulta) REFERENCES Consulta(ID_Consulta)
);

CREATE TABLE Recepcionista (
    ID_Recepcionista INTEGER PRIMARY KEY,
    Nome_Recepcionista VARCHAR(100),
    Hora_Trabalho VARCHAR(50),
    fk_Consulta_ID_Consulta INTEGER,
    FOREIGN KEY (fk_Consulta_ID_Consulta) REFERENCES Consulta(ID_Consulta)
);

CREATE TABLE Plano_De_Saude (
    ID_Plano INTEGER PRIMARY KEY,
    Nome_Plano VARCHAR(100),
    Valor DECIMAL(10,2),
    fk_Pagamento_Cliente_ID_Pagamento INTEGER,
    FOREIGN KEY (fk_Pagamento_Cliente_ID_Pagamento) REFERENCES Pagamento_Cliente(ID_Pagamento)
);

CREATE TABLE Pagamento_Cliente (
    ID_Pagamento INTEGER PRIMARY KEY,
    Metodo_Pagamento VARCHAR(50),
    Valor DECIMAL(10,2),
    Data_Pagamento DATE,
    fk_Financeiro_clinica_Pagamentos INTEGER,
    FOREIGN KEY (fk_Financeiro_clinica_Pagamentos) REFERENCES Financeiro_clinica(ID_Financeiro)
);

CREATE TABLE Funcionario_Limpesa (
    ID_Limpesa INTEGER PRIMARY KEY,
    Nome VARCHAR(100),
    Horario_Trabalho VARCHAR(50),
    Contato VARCHAR(15)
);

CREATE TABLE Financeiro_clinica (
    ID_Financeiro INTEGER PRIMARY KEY,
    Pagamentos DECIMAL(10,2),
    ID_Pagamento_funcionario INTEGER,
    ID_Pagamento_Paciente INTEGER,
    FOREIGN KEY (ID_Pagamento_funcionario) REFERENCES Funcionario_Castrado(ID_Funcionario),
    FOREIGN KEY (ID_Pagamento_Paciente) REFERENCES Paciente(ID_Paciente)
);

CREATE TABLE Funcionario_Castrado (
    ID_Funcionario INTEGER PRIMARY KEY,
    Data_Pagamento DATE,
    fk_Funcionario_Limpesa_ID_Limpesa INTEGER,
    fk_Recepcionista_ID_Recepcionista INTEGER,
    fk_Medico_ID_Medico INTEGER,
    FOREIGN KEY (fk_Funcionario_Limpesa_ID_Limpesa) REFERENCES Funcionario_Limpesa(ID_Limpesa),
    FOREIGN KEY (fk_Recepcionista_ID_Recepcionista) REFERENCES Recepcionista(ID_Recepcionista),
    FOREIGN KEY (fk_Medico_ID_Medico) REFERENCES Medico(ID_Medico)
);

CREATE TABLE Dono_Clinica (
    ID_Dono INTEGER PRIMARY KEY,
    Nome VARCHAR(100),
    PasseLivre BIT,
    fk_Pagamento_de_Alocacao_ID_Pagamento INTEGER,
    FOREIGN KEY (fk_Pagamento_de_Alocacao_ID_Pagamento) REFERENCES Pagamento_de_Alocacao(ID_Pagamento)
);

CREATE TABLE Pagamento_de_Alocacao (
    ID_Pagamento INTEGER PRIMARY KEY,
    Valor DECIMAL(10,2)
);

CREATE TABLE Possui (
    fk_Plano_De_Saude_ID_Plano INTEGER,
    fk_Paciente_ID_Paciente INTEGER,
    PRIMARY KEY (fk_Plano_De_Saude_ID_Plano, fk_Paciente_ID_Paciente),
    FOREIGN KEY (fk_Plano_De_Saude_ID_Plano) REFERENCES Plano_De_Saude(ID_Plano),
    FOREIGN KEY (fk_Paciente_ID_Paciente) REFERENCES Paciente(ID_Paciente)
);

CREATE TABLE Responsavel_por (
    fk_Sala_ID_Sala INTEGER,
    fk_Funcionario_Limpesa_ID_Limpesa INTEGER,
    PRIMARY KEY (fk_Sala_ID_Sala, fk_Funcionario_Limpesa_ID_Limpesa),
    FOREIGN KEY (fk_Sala_ID_Sala) REFERENCES Sala(ID_Sala),
    FOREIGN KEY (fk_Funcionario_Limpesa_ID_Limpesa) REFERENCES Funcionario_Limpesa(ID_Limpesa)
);

CREATE TABLE PG_Func_ (
    fk_Financeiro_clinica_Pagamentos INTEGER,
    fk_Funcionario_Castrado_ID_Funcionario INTEGER,
    PRIMARY KEY (fk_Financeiro_clinica_Pagamentos, fk_Funcionario_Castrado_ID_Funcionario),
    FOREIGN KEY (fk_Financeiro_clinica_Pagamentos) REFERENCES Financeiro_clinica(ID_Financeiro),
    FOREIGN KEY (fk_Funcionario_Castrado_ID_Funcionario) REFERENCES Funcionario_Castrado(ID_Funcionario)
);
